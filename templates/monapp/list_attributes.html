{% extends 'monapp/base.html' %}

{% block title %}
Mon application DJANGO
{% endblock %}

{% block menu %}
<h1>Liste des attributs</h1>
<a href="{% url 'attribute-add' %}" class="btn btn-primary mt-2">Créer un nouvel attribut</a>
{% endblock %}

{% block contenu %}
    <table class="table">
        <thead>
            <th>Nom</th>
            <th>Valeurs</th>
            <th>Position</th>
            <th>Actions</th>
        </thead>
        <tbody>
        {% for attribute in attributes %}
        <tr>
            <td>{{ attribute.name}}</a></td>
            <td>{% for value in attribute.productattributevalue_set.all %}
                <p>{{ value.value }}</p>
                {% empty %}
                <p>Aucune valeur</p>
                {% endfor %}
            </td>
            <td>{% for value in attribute.productattributevalue_set.all %}
                <p>{{ value.position }}</p>
                {% empty %}
                <p>Aucune valeur</p>
                {% endfor %}
            </td>
            <td>
                <a href="{% url 'attribute-detail' attribute.id %}" class="btn btn-primary mt-2">Détails</a>
                <a href="{% url 'attribute-update' attribute.id %}" class="btn btn-warning mt-2">Modifier</a>
                <a href="{% url 'attribute-delete' attribute.id %}" class="btn btn-danger mt-2">Supprimer</a>
            </td>
        </tr>
        {% endfor %}
        </tbody>
    </table>
          
            <p>
                J'ai
                    {% if productattributes|length < 5 %}
                    peu d'
                    {% elif productattributes|length < 10 %}
                    quelques
                    {% else %}
                    beaucoup d'
                    {% endif %}
                    attributs.
            </p>
            {% endblock %}